const balance=document.getElementById("balance"),moneyPlus=document.getElementById("money-plus"),moneyminus=document.getElementById("money-minus"),list=document.getElementById("list"),form=document.getElementById("form"),text=document.getElementById("text"),amount=document.getElementById("amount"),localStorageTransactions=JSON.parse(localStorage.getItem("transactions"));let transactions=null!==localStorage.getItem("transactions")?localStorageTransactions:[];function addTransaction(t){if(t.preventDefault(),""===text.value.trim()||""===amount.value.trim())alert("Please add a text and amount");else{let e={id:generateID(),text:text.value,amount:+amount.value};transactions.push(e),addTransactionDOM(e),updateValues(),updateLocalStorage(),text.value="",amount.value=""}}function generateID(){return Math.floor(1e8*Math.random())}function addTransactionDOM(t){let e=t.amount<0?"-":"+",n=document.createElement("li");n.classList.add(t.amount<0?"minus":"plus"),n.innerHTML=`
  ${t.text} <span>${e}${Math.abs(t.amount)}</span> <button class="delete-btn" onclick="removeTransaction(${t.id})">x</button>`,list.appendChild(n)}function updateValues(){let t=transactions.map(t=>t.amount),e=t.reduce((t,e)=>t+=e,0).toFixed(2),n=t.filter(t=>t>0).reduce((t,e)=>t+=e,0).toFixed(2),a=(-1*t.filter(t=>t<0).reduce((t,e)=>t+=e,0)).toFixed(2);balance.innerText=`$${e}`,moneyPlus.innerText=`+$${n}`,moneyminus.innerText=`-$${a}`}function removeTransaction(t){transactions=transactions.filter(e=>e.id!==t),updateLocalStorage(),init()}function updateLocalStorage(){localStorage.setItem("transactions",JSON.stringify(transactions))}function init(){list.innerHTML="",transactions.forEach(addTransactionDOM),updateValues()}init(),form.addEventListener("submit",addTransaction);